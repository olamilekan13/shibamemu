jQuery(document).ready(function($){const dialCodeInput=()=>{const inputTel=$('input[name="your-phone"]');if(inputTel.length>0){if(inputTel.val().length<5){let tel=inputTel.intlTelInput({initialCountry:"auto",utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",geoIpLookup:function(success,failure){$.get("https://ipinfo.io?token=a2bf46337f2338",function(){},"jsonp").always(function(resp){let countryCode=(resp&&resp.country)?resp.country:"us";success(countryCode);let currentCountry=$(`.iti__country[data-country-code="${countryCode.toLowerCase()}"]`);let dialCode=currentCountry.data("dial-code");inputTel.attr('value','+'+dialCode)})}})}}
$(document).on('keyup','input[type="tel"]',function(e){if($(this).val().length<1){$(this).val('+')}});$(document).on('keydown','input[type="tel"]',function(e){if(e.key==" "||e.code=="Space"||e.keyCode==32){return!1}})}
const displayHeaderOnScroll=()=>{const nav=document.querySelector(".header");let lastScrollY=window.scrollY;window.addEventListener("scroll",()=>{if(lastScrollY<window.scrollY&&window.scrollY>50){nav.classList.add("hide-bar")}else{nav.classList.remove("hide-bar")}
lastScrollY=window.scrollY})}
displayHeaderOnScroll();const displayBannerOnScroll=(selector,className)=>{let $el=$('.brands');if($el.length>0){let top=$el.offset().top;const addRemoveClass=()=>{if($(this).scrollTop()>top){$(selector).addClass(className)}else{$(selector).removeClass(className)}}
$(window).scroll(function(){addRemoveClass()})}}
displayBannerOnScroll('.banner','show');let direction;let rtlBool;(document.dir!==undefined)?direction=document.dir:direction=document.getElementsByTagName("html")[0].getAttribute("dir");rtlBool=direction==="rtl";const identChLanguage=()=>{const mainBody=$('body');if(document.documentElement.lang==="zh-hans"||document.documentElement.lang==="zh-hant"){mainBody.addClass('china')}else{mainBody.removeClass('china')}}
const hideBrandsOnMobile=()=>{if($(window).width()<767){$('.brands__list .brands__item:not([data-mobile="1"])').hide()}}
let currentPage=1;let loadMoreBtn=$('#load-more');let postsList=$('.publication-list');loadMoreBtn.on('click',function(e){loadMoreCategory()});function loadMoreCategory(){currentPage++;$.ajax({type:'POST',url:'/wp-admin/admin-ajax.php',dataType:'json',data:{action:'news_load_more_ajax',paged:currentPage},success:function(res){if(currentPage>=res.max){loadMoreBtn.hide()}
postsList.append(res.html)}})}
function getTimeRemaining(endTime){let t=Date.parse(endTime)-Date.parse(new Date());let seconds=Math.floor((t/1000)%60);let minutes=Math.floor((t/1000/60)%60);let hours=Math.floor((t/(1000*60*60))%24);return{total:t,hours:hours,minutes:minutes,seconds:seconds}}
function initializeClock(id,endTime){let clock=document.getElementById(id);let hoursSpan=clock.querySelector(".hours");let minutesSpan=clock.querySelector(".minutes");let secondsSpan=clock.querySelector(".seconds");let timeInterval=0;function updateClock(){let t=getTimeRemaining(endTime);if(t.total<=0){clearInterval(timeInterval);let newTime=Date.parse(endTime);let nowTime=Date.parse(new Date());while(newTime<=nowTime){newTime=newTime+24*60*60*1000}
let deadline=new Date(newTime);initializeClock(id,deadline)}else{hoursSpan.innerHTML=("0"+t.hours).slice(-2);minutesSpan.innerHTML=("0"+t.minutes).slice(-2);secondsSpan.innerHTML=("0"+t.seconds).slice(-2)}}
updateClock();timeInterval=setInterval(updateClock,1000)}
const preSaleCountdown=()=>{const targetDate=new Date("2023-09-01T16:00:00").getTime();function startCountdown(){const currentDate=new Date().getTime();const timeRemaining=targetDate-currentDate;const daysElement=document.querySelector(".banner__days");const hoursElement=document.querySelector(".banner__hours");const minutesElement=document.querySelector(".banner__minutes");const secondsElement=document.querySelector(".banner__seconds");let days=Math.floor(timeRemaining/(1000*60*60*24));let hours=Math.floor((timeRemaining%(1000*60*60*24))/(1000*60*60));let minutes=Math.floor((timeRemaining%(1000*60*60))/(1000*60));let seconds=Math.floor((timeRemaining%(1000*60))/1000);days=String(days).padStart(2,"0");hours=String(hours).padStart(2,"0");minutes=String(minutes).padStart(2,"0");seconds=String(seconds).padStart(2,"0");daysElement.textContent=days;hoursElement.textContent=hours;minutesElement.textContent=minutes;secondsElement.textContent=seconds}
setInterval(startCountdown,1000)}
let deadline="December 7 2019 18:00:00 GMT+0100 (British Summer Time)";if($('body').hasClass('home')){initializeClock("countdown",deadline)}
initializeClock("increase_time",deadline);$(document).on('click','div.header__logo.logo',function(){window.scrollTo({top:0,behavior:'smooth'})});$(document).on('click','.form__submit',function(e){e.preventDefault();let inputEmail=$('.form__input').val();let errorEmail=$('.input-error');let successEmail=$('.input-success');function validateEmail($email){let emailReg=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return emailReg.test($email)}
let data={email:inputEmail,'action':'send_email'};if(validateEmail(inputEmail)&&inputEmail!==''){errorEmail.hide();successEmail.show();$.ajax({type:"POST",data:data,url:'/wp-admin/admin-ajax.php',success:function(data){}})}else{errorEmail.show();successEmail.hide()}})
const initDesktopSubMenu=()=>{const subMenuBlock=$('.desktop-sub-menu');if($(window).width()>1350&&subMenuBlock.length>0){$(document).on({mouseenter:function(){$(this).parent().find('.active').removeClass('active');$(this).addClass('active')
$('.modal-overlay, .desktop-sub-menu').addClass('active');subMenuBlock.data('hover',$(this).data('hover'))},mouseleave:function(){$('.modal-overlay, .desktop-sub-menu').removeClass('active');$(this).removeClass('active')}},".menu-item-has-children");$(document).on({mouseenter:function(){$(this).addClass('active');$('.modal-overlay').addClass('active');$('.menu-item-'+$(this).data('hover')).addClass('active')},mouseleave:function(){$('.modal-overlay, .menu-item-has-children').removeClass('active');$(this).removeClass('active')}},".desktop-sub-menu")}}
const initMobileLanguage=()=>{$('.language_menu .sub-menu').clone().appendTo('.sub-language-mobile__wrap');$('#menu-top-menu .wpml-ls-current-language').clone().prependTo('.sub-language-mobile__wrap .sub-menu');$('.sub-language-mobile__wrap > .sub-menu li:first-child .sub-menu').remove();$(document).on('click','.language_menu',function(e){if($(window).width()<1350){e.preventDefault();if(!$('.header__menu').hasClass('show-language')){$('.header__menu').addClass('show-language');$('.header__menu, .menu-overlay, .mobile-menu').addClass('active');$('body').addClass('hidden')}else{$('.header__menu, .menu-overlay, .mobile-menu').toggleClass('active');$('.header__menu').toggleClass('show-language');$('body').toggleClass('hidden')}}})}
const initMobileMenu=()=>{$(document).on('click','.mobile-menu',e=>{if($(window).width()<1350){e.preventDefault();$('.header__menu').removeClass('show-language');$('.header__menu, .menu-overlay, .mobile-menu').toggleClass('active');$('body').toggleClass('hidden')}})}
const initMobileSubMenu=()=>{$(document).on('click','.header__menu .menu-item-has-children',function(e){if($(window).width()<1350){$(this).toggleClass('active');const child=$(this).find('.sub-menu');child.stop().slideToggle()}})}
const closeManiMenu=()=>{$(document).on('click','.sub-menu .sub-menu-link',function(e){if($(window).width()<1350){$('.modal-overlay, .desktop-sub-menu, .header__menu, .mobile-menu').removeClass('active')}})}
const initAccordion=()=>{$(document).on('click','.faq-head',function(){if($(this).hasClass('active')){$(this).siblings('.faq-content').stop().slideUp();$(this).removeClass('active')}else{$('.faq-content').stop().slideUp();$('.faq-head').removeClass('active');$(this).siblings('.faq-content').stop().slideToggle(function(){$([document.documentElement,document.body]).animate({scrollTop:$(this).offset().top-350},500)});$(this).toggleClass('active')}})}
$(document).on('click','.custom-popup__close',function(){let $this=$(this).parent().find('iframe'),tempSrc=$this.attr('src');$this.attr('src',"");$this.attr('src',tempSrc)});function truncate(input,amount){return input.substring(0,amount)+'...'}
const copyrightValue=()=>{$(document).on('click','.contract__copy',function(e){e.preventDefault();let inputVal=$(this).prev();let copiedText=$(this).next();let $temp=$("<input>");$("body").append($temp);$temp.val(inputVal.val()).select();document.execCommand("copy");$temp.remove();copiedText.stop().fadeIn();setTimeout(()=>{copiedText.stop().fadeOut()},2000)})}
class USDTCalculator{constructor(){this.input_currency='.contract__input';this.input_currency_date='.contract__input_date';this.input_shiba=$('input[name="shiba_filed"]');this.input_usdt=$('input[name="usdt_filed"]');this.start_day=$('.start_day').val();this.start_price=$('.start_price').val();this.price_shift=$('.price_shift').val();this.date_past=0;this.shmu_value=0;this.chosen_date=$('input[name="shiba_date"]').val();this.addEvents();this.TotalCalculate()}
getDate(e){this.chosen_date=e.target.value}
addEvents(){let self=this;$(document).on('change',this.input_currency_date,function(event){self.getDate(event);self.TotalCalculate()});$(document).on('keyup',this.input_currency,function(event){let $option=$(this).data('option');let $value=$(this).val();if(isNaN($value)){$value=$value.replace(/[^0-9\.]/g,'');if($value.split('.').length>2)
$value=$value.replace(/\.+$/,"")}
let newValue=$(this).val($value);if($option==='usdt'){return self.UsdtCalculate($value)}
if($option==='shiba'){return self.ShibaCalculate($value)}})}
getDayPast(){let oneDay=24*60*60*1000;let firstDate=new Date(this.chosen_date);let secondDate=new Date(this.start_day);this.date_past=Math.round(Math.abs((firstDate-secondDate)/oneDay))}
getShmuValue(){this.shmu_value=parseFloat(this.start_price)+parseFloat(this.price_shift)*this.date_past;this.shmu_value.toFixed(5)}
TotalCalculate(){this.getDayPast();this.getShmuValue();this.ShibaCalculate(Number(this.input_usdt.val()))}
ShibaCalculate(value){let $result=value/parseFloat(this.shmu_value);$result=Math.floor($result)
this.input_shiba.val($result)}
UsdtCalculate(value){let $result=value*parseFloat(this.shmu_value);this.input_usdt.val($result.toFixed(2))}}
if($('.sb-calculator').length>0){new USDTCalculator()}
function _scroll_it(_hash){jQuery('html,body').animate({scrollTop:jQuery(_hash).offset().top},500)}
const scrollToElement=()=>{$(document).on('click','a[href*="#"]:not([href="#"])',function(e){_hash=this.hash;if(_hash.length<0){return}
$('.modal-overlay, .desktop-sub-menu, .header__menu, .mobile-menu').removeClass('active');_scroll_it(_hash)})}
let _hash=window.location.hash;if(_hash.length>0){window.scrollTo(0,0);setTimeout(function(){_scroll_it(_hash)},300)}
class Parallax{constructor(selector){this.parent=selector;this.move_element=$(this.parent).find('.move-element');this.addEvent()}
addEvent(){let self=this;$(document).on('mousemove',this.parent,function(e){if($(window).width()>768)
self.moveElement(e)})}
moveElement(elem){let ivalueX=(elem.pageX*-1/50);let ivalueY=(elem.pageY*-1/100);this.move_element.css('transform','translate3d('+ivalueX+'px,'+ivalueY+'px, 0)')}}
if($('.move-element')){new Parallax('.faqs__wrap')}
const appendBlock=()=>{$('.language__mobile').append($('.language_menu'))}
const restoreBlock=()=>{$('.language-desktop').append($('.language_menu'))}
const handleBlocksCategory=()=>{if($(window).width()<1350){appendBlock()}else{restoreBlock()}}
handleBlocksCategory()
let timer;const reveal=()=>{let reveals=document.querySelectorAll(".reveal");for(let i=0;i<reveals.length;i++){let windowHeight=window.innerHeight;let elementTop=reveals[i].getBoundingClientRect().top;let elementVisible=90;if(elementTop<windowHeight-elementVisible){reveals[i].classList.add("active")}else{reveals[i].classList.remove("active")}}}
$('.how__btn').on('click',function(){$(this).prev().slideDown();$(this).fadeOut()});const callParallax=()=>{if($(window).width()>=1024){document.addEventListener("mousemove",heroParallax)}}
const heroParallax=(e)=>{function moveParallax(selector,rotateBool,coefficient,direction){let x,y;if(direction==='right'){x=(window.innerWidth+e.pageX*coefficient)/100;y=(window.innerHeight+e.pageY*coefficient)/100}else{x=(window.innerWidth-e.pageX*coefficient)/100;y=(window.innerHeight-e.pageY*coefficient)/100}
let transform=rotateBool?`rotate(26.7deg) translate(${x}px, ${y}px)`:`translate(${x}px, ${y}px)`;document.querySelectorAll(selector).forEach((element)=>element.style.transform=transform)}
moveParallax('.hero__shiba',!1,0.3,'left');moveParallax('.move-right',!0,0.5,'right');moveParallax('.move-left',!0,0.5,'left');moveParallax('.reddit',!1,0.7,'left');moveParallax('.twitter',!1,0.7,'right');moveParallax('.move_right',!1,0.8,'right');moveParallax('.move_left',!1,0.8,'left')}
const brandsSlider=()=>{let slider=$('.brands__list');let settings={rows:2,dots:!0,rtl:rtlBool,arrows:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2,}}]};slider.slick(settings);if($(window).width()>767){if($('.slick-slide:not(.slick-cloned)').length<5){$('.brands__list .slick-dots').hide()}}}
const companiesSlider=()=>{$('.companies__list').slick({dots:!0,rtl:rtlBool,arrows:!1,infinite:!0,speed:300,slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,}}]});if($('.companies__item').length<3){$('.companies__list .slick-dots').hide()}}
const toolsSlider=()=>{$('.tools__list').slick({dots:!0,rtl:rtlBool,arrows:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,}}]})}
const initMobileSlider=($selector,$breakpoint,$rows,$show_m,$show_l)=>{let slider=$($selector);let settings={mobileFirst:!0,rows:$rows,dots:!0,rtl:rtlBool,arrows:!1,infinite:!0,speed:300,slidesToShow:$show_m,slidesToScroll:$show_m,responsive:[{breakpoint:$breakpoint,settings:"unslick"},{breakpoint:767,settings:{slidesToShow:$show_l,slidesToScroll:$show_l,}}]};slider.slick(settings);$(window).on("resize",function(){if($(window).width()>$breakpoint){return}
if(!slider.hasClass("slick-initialized")){return slider.slick(settings)}})}
const exitIntent=()=>{let intentBlock=$('.intent');let header=$('.header');function addEvent(obj,evt,fn){if(obj.addEventListener){obj.addEventListener(evt,fn,!1)}else if(obj.attachEvent){obj.attachEvent("on"+evt,fn)}}
function showExitIntent(){sessionStorage.setItem('exitIntent','true');intentBlock.fadeIn();$('body').addClass('hidden');header.addClass('z-0')}
if($(window).width()>768){addEvent(document,'mouseout',function(evt){if(evt.toElement==null&&evt.relatedTarget==null&&sessionStorage.getItem("exitIntent")===null){showExitIntent()}})}
$('.intent__close').click(function(e){header.removeClass('z-0');intentBlock.fadeOut();$('body').removeClass('hidden')});let intent=document.querySelector('.intent');if(intent!==null){intent.onclick=function(e){if(e.target===this){header.removeClass('z-0');intentBlock.fadeOut();$('body').removeClass('hidden')}}}}
let baseUrl='',apiKey='',referralLink='';if(document.URL.includes('staging')){baseUrl='https://dev-api.shibamemu.com';apiKey='4929f13a-c823-4e05-a152-0513ebb8dafd';referralLink='https://staging.shibamemu.com/?referral='}else{baseUrl='https://api.shibamemu.com';apiKey='cc02ded9-925a-41dc-8eed-45b622941eeb';referralLink='https://shibamemu.com/?referral='}
const getReferral=()=>{let modal=$('.modal');let header=$('.header');let referralInput=$('.modal__input');$(document).on('click','.earn__btn',function(e){e.preventDefault();if(JSON.parse(localStorage.getItem('wagmi.store')).state.data.account!==undefined){let deviceId=localStorage.getItem("deviceId");$.ajax({type:'GET',url:`${baseUrl}/api/affiliates/getReferralLink?apiKey=${apiKey}&address=${JSON.parse(localStorage.getItem('wagmi.store')).state.data.account}&deviceId=${deviceId}`,dataType:'json',success:function(data){modal.fadeIn();header.addClass('z-0');$('body').addClass('hidden');let responseLink=referralLink+data.link;referralInput[0].dataset.link=responseLink;referralInput.val(responseLink.substring(0,40)+'...')}})}else{$(window).width()<768?$('.header #shmu-header-mobile button').trigger('click'):$('.header #shmu-connect-button button').trigger('click')}
if($(window).width()<768){$('#shmu-header-mobile').on('DOMSubtreeModified',function(){$('.earn__btn').trigger('click')})}else{$('#shmu-connect-button').on('DOMSubtreeModified',function(){$('.earn__btn').trigger('click')})}});$(document).on('click','.modal__copy',function(){let copySvg=$(this).find('svg:first-child'),successSvg=$(this).find('svg:last-child'),inputVal=document.querySelector('.modal__input').dataset.link;copySvg.hide();successSvg.show();navigator.clipboard.writeText(inputVal);setTimeout(()=>{successSvg.hide();copySvg.show()},2000)});function hideModal(){header.removeClass('z-0');modal.fadeOut();$('body').removeClass('hidden')}
$('.modal__close').click(function(e){hideModal()});let modalBlock=document.querySelector('.modal');if(modalBlock!==null){modalBlock.onclick=function(e){if(e.target===this){hideModal()}}}}
exitIntent();dialCodeInput();if($('body').hasClass('home')){getReferral()}
initDesktopSubMenu();initMobileMenu();initMobileSubMenu();initMobileLanguage();closeManiMenu();brandsSlider();companiesSlider();callParallax();hideBrandsOnMobile();toolsSlider();initAccordion();copyrightValue();scrollToElement();reveal();identChLanguage();$(window).on("resize",function(){clearTimeout(timer);timer=setTimeout(function(){handleBlocksCategory()},100);if($(window).width()<1024){}});$(window).on('init scroll',e=>{reveal()})})